
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="LTSP helps in netbooting LAN clients from a single template installation that resides in a virtual machine image or a chroot on the LTSP server, or the server root (/, chrootless). This way maintaining tens or hundreds of diskless clients is as easy as maintaining a single PC.">
      
      
      
        <link rel="canonical" href="https://ltsp.org/docs/installation/">
      
      
        <link rel="prev" href="../preparation/">
      
      
        <link rel="next" href="raspios/">
      
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.4">
    
    
      
        <title>Installation - Linux Terminal Server Project</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0e669242.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
  
    
  
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Linux Terminal Server Project - Installation" />
  <meta property="og:description" content="LTSP helps in netbooting LAN clients from a single template installation that resides in a virtual machine image or a chroot on the LTSP server, or the server root (/, chrootless). This way maintaining tens or hundreds of diskless clients is as easy as maintaining a single PC." />
  <meta property="og:url" content="https://ltsp.org/docs/installation/" />
  <meta property="og:image" content="https://ltsp.org/logo-300x158.png" />
  <meta property="og:image:alt" content="LTSP logo" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="300" />
  <meta property="og:image:height" content="158" />

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Linux Terminal Server Project" class="md-header__button md-logo" aria-label="Linux Terminal Server Project" data-md-component="logo">
      
  <img src="../../logo-icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Linux Terminal Server Project
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ltsp/ltsp" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Linux Terminal Server Project" class="md-nav__button md-logo" aria-label="Linux Terminal Server Project" data-md-component="logo">
      
  <img src="../../logo-icon.png" alt="logo">

    </a>
    Linux Terminal Server Project
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ltsp/ltsp" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_2">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../preparation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preparation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
          
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    Installation
  </span>
  

            </a>
            
              <label class="md-nav__link md-nav__link--active" for="__nav_2_3">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="raspios/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raspberry Pi OS
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ppa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Personal Package Archive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../netboot-clients/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Netboot clients
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../man/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Man pages
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_3">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Man pages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../man/ltsp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ltsp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../man/ltsp.conf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ltsp.conf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../man/ltsp-dnsmasq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ltsp-dnsmasq
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../man/ltsp-image/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ltsp-image
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../man/ltsp-info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ltsp-info
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../man/ltsp-initrd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ltsp-initrd
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../man/ltsp-ipxe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ltsp-ipxe
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../man/ltsp-kernel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ltsp-kernel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../man/ltsp-nfs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ltsp-nfs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../man/ltsp-remoteapps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ltsp-remoteapps
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../guides/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_4">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/chat-room/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chat room
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/coding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/isc-dhcp-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ISC DHCP server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Markdown
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/netconsole/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Netconsole
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/proposed-ppa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proposed PPA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/pxelinux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PXELinux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Specifications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/snap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Snap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/versioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Versioning
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#server-os-installation" class="md-nav__link">
    Server OS installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-the-ltsp-ppa" class="md-nav__link">
    Adding the LTSP PPA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-ltsp-server-packages" class="md-nav__link">
    Installing LTSP server packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-configuration" class="md-nav__link">
    Network configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#maintaining-a-client-image" class="md-nav__link">
    Maintaining a client image
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-ipxe" class="md-nav__link">
    Configuring iPXE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nfs-server-configuration" class="md-nav__link">
    NFS server configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate-ltspimg" class="md-nav__link">
    Generate ltsp.img
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questions" class="md-nav__link">
    Questions
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h1>
<p>All the terminal commands in the documentation should be run as root, which
means you should initially run <code>sudo -i</code> on Ubuntu or <code>su -</code> on Debian.</p>
<h2 id="server-os-installation">Server OS installation<a class="headerlink" href="#server-os-installation" title="Permanent link">&para;</a></h2>
<p>The LTSP server can be headless, but it's usually better to install the
operating system using a "desktop" .iso and not a "server" one. All desktop
environments should work fine, but MATE receives the most testing. Any
.deb-based distribution that uses systemd should work; i.e. from Ubuntu Xenial
and Debian Jessie and onward. If you choose Ubuntu, you may also consider
<a href="../../guides/snap/">removing snap</a> to avoid some issues.</p>
<h2 id="adding-the-ltsp-ppa">Adding the LTSP PPA<a class="headerlink" href="#adding-the-ltsp-ppa" title="Permanent link">&para;</a></h2>
<p>The LTSP PPA is where stable upstream LTSP releases are published. It's
mandatory for distributions before 2020 that have the older LTSP5, and optional
but recommended to have in newer distributions. Follow the <a href="../ppa/">ppa
page</a> to add it to your sources, then continue reading here.</p>
<h2 id="installing-ltsp-server-packages">Installing LTSP server packages<a class="headerlink" href="#installing-ltsp-server-packages" title="Permanent link">&para;</a></h2>
<p>The usual way to transform a normal installation into an LTSP server is to run:</p>
<div class="highlight"><pre><span></span><code>apt<span class="w"> </span>install<span class="w"> </span>--install-recommends<span class="w"> </span>ltsp<span class="w"> </span>ltsp-binaries<span class="w"> </span>dnsmasq<span class="w"> </span>nfs-kernel-server<span class="w"> </span>openssh-server<span class="w"> </span>squashfs-tools<span class="w"> </span>ethtool<span class="w"> </span>net-tools<span class="w"> </span>epoptes
gpasswd<span class="w"> </span>-a<span class="w"> </span>administrator<span class="w"> </span>epoptes
</code></pre></div>
<p>Replace <em>administrator</em> with the administrator username.
If you're not using the PPA, also replace <code>ltsp-binaries</code> with <code>ipxe</code>.
Description of the aforementioned packages:</p>
<ul>
<li>ltsp: contains the LTSP code, it's common for both LTSP servers and LTSP
  clients.</li>
<li>ltsp-binaries: contains iPXE and memtest binaries.</li>
<li>dnsmasq: provides TFTP and optionally (proxy)DHCP and DNS services. Possible
  alternatives are isc-dhcp-server and tftpd-hpa, but only dnsmasq can do
  proxyDHCP, so it's the recommended default.</li>
<li>nfs-kernel-server: exports the virtual client disk image over NFS.</li>
<li>openssh-server: allows clients to authenticate and access /home via SSHFS.</li>
<li>ethtool, net-tools: allow disabling Ethernet flow control, to improve LAN
  speed when the server is gigabit and some clients are 100 Mbps.</li>
<li><a href="https://epoptes.org/">epoptes</a>: optional; allows client monitoring and
  remote control; the gpasswd command allows the sysadmin to run epoptes.</li>
</ul>
<p>All those packages can also be displayed with <code>apt show ltsp | grep ^Suggests</code>.</p>
<h2 id="network-configuration">Network configuration<a class="headerlink" href="#network-configuration" title="Permanent link">&para;</a></h2>
<p>There are two popular methods to configure LTSP networking. One is to avoid any
configuration; this usually means that you have a single NIC on the LTSP server
and an external DHCP server, for example a router, pfsense, or a Windows
server. In this case, run the following command:</p>
<div class="highlight"><pre><span></span><code>ltsp<span class="w"> </span>dnsmasq
</code></pre></div>
<p>Another method is to have a dual NIC LTSP server, where one NIC is connected to
the normal network where the Internet is, and the other NIC is connected to a
separate switch with just the LTSP clients. For this method to work
automatically, assign a static IP of 192.168.67.1 to the internal NIC using
Network Manager or whatever else your distribution has, and run:</p>
<div class="highlight"><pre><span></span><code>ltsp<span class="w"> </span>dnsmasq<span class="w"> </span>--proxy-dhcp<span class="o">=</span><span class="m">0</span>
</code></pre></div>
<p>You can read about more <code>ltsp dnsmasq</code> options, like --dns or --dns-servers, in
its <a href="../../man/ltsp-dnsmasq">man page</a>.</p>
<h2 id="maintaining-a-client-image">Maintaining a client image<a class="headerlink" href="#maintaining-a-client-image" title="Permanent link">&para;</a></h2>
<p>LTSP supports three methods to maintain a client image. They are documented in
the <a href="../../man/ltsp-image">ltsp image</a>
man page. You can use either one or all of them. In short, they are:</p>
<ul>
<li>Chrootless (previously pnp): use the server root (/) as the template for the
  clients. It's the easiest method if it suits your needs, as you maintain only
  one operating system, not two (server and image).</li>
<li>Raw virtual machine image: graphically maintain e.g. a VirtualBox VM.</li>
<li>Chroot: manually maintain a <a href="https://github.com/ltsp/ltsp/wiki/chroots">chroot
  directory</a> using console commands.</li>
</ul>
<p>In the virtual machine and chroot cases, you're supposed to install the ltsp
package to the image, by adding the LTSP PPA and running <code>apt install
--install-recommends ltsp epoptes-client</code>, without specifying any other
services. In the chrootless and virtual machine cases, if you're using separate
partitions for some directories like /boot or /var, see the <code>ltsp image</code> man
page <a href="../../man/ltsp-image/#examples">EXAMPLES section</a> for how to include
them. When the image is ready, to export it in <em>squashfs</em> format and make it
available to the clients over NFS, run the following commands.</p>
<p>For chrootless:</p>
<div class="highlight"><pre><span></span><code>ltsp<span class="w"> </span>image<span class="w"> </span>/
</code></pre></div>
<p>Virtual machines need to be symlinked before running <code>ltsp image</code>:</p>
<div class="highlight"><pre><span></span><code>ln<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;/home/user/VirtualBox VMs/debian/debian-flat.vmdk&quot;</span><span class="w"> </span>/srv/ltsp/debian.img
ltsp<span class="w"> </span>image<span class="w"> </span>debian
</code></pre></div>
<p>For a chroot in /srv/ltsp/x86_32:</p>
<div class="highlight"><pre><span></span><code>ltsp<span class="w"> </span>image<span class="w"> </span>x86_32
</code></pre></div>
<p>You need to run these commands every time you install new software or updates
to your image and want to export its updated version.</p>
<h2 id="configuring-ipxe">Configuring iPXE<a class="headerlink" href="#configuring-ipxe" title="Permanent link">&para;</a></h2>
<p>After you create your initial image, or if you ever create additional images,
run the following command to generate an iPXE menu and copy the iPXE binaries
in TFTP:</p>
<div class="highlight"><pre><span></span><code>ltsp<span class="w"> </span>ipxe
</code></pre></div>
<p>In LTSP5, syslinux was used, but iPXE replaced it as it's much more powerful.
You can read more about it in the <a href="../../man/ltsp-ipxe">ltsp ipxe man page</a>.</p>
<h2 id="nfs-server-configuration">NFS server configuration<a class="headerlink" href="#nfs-server-configuration" title="Permanent link">&para;</a></h2>
<p>To configure the LTSP server to serve the images or chroots over NFS, run:</p>
<div class="highlight"><pre><span></span><code>ltsp<span class="w"> </span>nfs
</code></pre></div>
<p>For finetuning options, see the <a href="../../man/ltsp-nfs">ltsp nfs man page</a>.</p>
<h2 id="generate-ltspimg">Generate ltsp.img<a class="headerlink" href="#generate-ltspimg" title="Permanent link">&para;</a></h2>
<p>A new procedure that wasn't there in LTSP5 is provided by the following command:</p>
<div class="highlight"><pre><span></span><code>ltsp<span class="w"> </span>initrd
</code></pre></div>
<p>This compresses /usr/share/ltsp, /etc/ltsp, /etc/{passwd,group} and the server
public SSH keys into /srv/tftp/ltsp/ltsp.img, which is transferred as an
"additional initrd" to the clients when they boot. You can read about its
benefits in its <a href="../../man/ltsp-initrd">man page</a>, for now keep in mind that
you need to run <code>ltsp initrd</code> after each LTSP package update, or when you add
new users, or if you create or modify
<a href="../../man/ltsp.conf/">/etc/ltsp/ltsp.conf</a>, which replaced the LTSP 5
"lts.conf".</p>
<h2 id="questions">Questions<a class="headerlink" href="#questions" title="Permanent link">&para;</a></h2>
<p>Questions? Start a <a href="https://github.com/ltsp/ltsp/discussions">discussion</a>
or come to the <a href="../../guides/chat-room/">online chat room</a>.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2000-2023 the <a href="https://github.com/ltsp/ltsp/graphs/contributors">LTSP developers</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes", "navigation.instant"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.78eede0e.min.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
    
  </body>
</html>